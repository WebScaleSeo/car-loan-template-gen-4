---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header';
import Footer from '../components/Footer';
import FaqHero from '../components/FaqHero';
import FaqCategories from '../components/FaqCategories';
import GeneralFaqAccordion from '../components/GeneralFaqAccordion';
import ApplicationFaqAccordion from '../components/ApplicationFaqAccordion';
import RatesFaqAccordion from '../components/RatesFaqAccordion';
import FaqCta from '../components/FaqCta';

import siteConfig from '../../siteConfig.json';
import cloudflareConfig from '../../cloudflareConfig.json';
const { global, pages } = siteConfig.site;
const pageData = pages.faq;
const seo = { title: pageData.seo.title, metaDescription: pageData.seo.metaDescription };
---

<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": seo.title,
  "description": seo.metaDescription
})}></script>

<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Home", "item": `https://${cloudflareConfig.domain || 'placeholder.com'}/` },
    { "@type": "ListItem", "position": 2, "name": "Faq", "item": `https://${cloudflareConfig.domain || 'placeholder.com'}/faq` }
  ]
})}></script>

<Layout seo={seo} canonicalPath="/faq">
  <Header navigation={global.navigation} branding={global.branding} />
  <main>
    <FaqHero data={pageData.sections.faqHero} client:load />
    <FaqCategories data={pageData.sections.faqCategories} client:load />
    <GeneralFaqAccordion data={pageData.sections.generalFaqAccordion} client:load />
    <ApplicationFaqAccordion data={pageData.sections.applicationFaqAccordion} client:load />
    <RatesFaqAccordion data={pageData.sections.ratesFaqAccordion} client:load />
    <FaqCta data={pageData.sections.faqCta} client:load />
  </main>
  <Footer footer={global.footer} />
</Layout>
